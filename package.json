{
  "name": "luna-codebase-encyclopedia",
  "displayName": "LUNA Codebase Encyclopedia",
  "description": "AI-powered codebase analysis and navigation tool",
  "version": "0.1.0",
  "publisher": "luna",
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onCommand:luna-encyclopedia.generateSummaries",
    "onCommand:luna-encyclopedia.showSummary"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "luna-encyclopedia.initialize",
        "title": "LUNA: Initialize Workspace",
        "icon": "$(gear)"
      },
      {
        "command": "luna-encyclopedia.generateSummaries",
        "title": "LUNA: Generate Codebase Summaries",
        "icon": "$(sync)"
      },
      {
        "command": "luna-encyclopedia.updateStale",
        "title": "LUNA: Update Stale Summaries",
        "icon": "$(refresh)"
      },
      {
        "command": "luna-encyclopedia.showSummary",
        "title": "LUNA: Show Summary Panel",
        "icon": "$(file)"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "luna-encyclopedia",
          "title": "LUNA Encyclopedia",
          "icon": "resources/icon.svg"
        }
      ]
    },
    "views": {
      "luna-encyclopedia": [
        {
          "id": "luna-encyclopedia.summaryTree",
          "name": "Code Summaries"
        }
      ]
    },
    "configuration": {
      "title": "LUNA Encyclopedia",
      "properties": {
        "luna-encyclopedia.copilotModel": {
          "type": "string",
          "default": "gpt-4o",
          "enum": [
            "gpt-4o",
            "gpt-4.1",
            "gpt-5-mini",
            "raptor-mini",
            "claude-sonnet-4.5",
            "claude-sonnet-4",
            "claude-haiku-4.5",
            "gemini-3-flash",
            "gemini-3-pro",
            "gemini-2.5-pro",
            "gpt-5",
            "gpt-5.1",
            "gpt-5.2",
            "gpt-5-codex",
            "gpt-5.1-codex",
            "gpt-5.1-codex-mini",
            "gpt-5.1-codex-max",
            "claude-opus-4.5",
            "claude-opus-4.1",
            "grok-code-fast-1"
          ],
          "enumDescriptions": [
            "GPT-4o - FREE, great for summaries (recommended)",
            "GPT-4.1 - FREE, previous generation",
            "GPT-5 Mini - FREE, fast and efficient for summaries",
            "Raptor Mini - FREE, Microsoft's efficient model",
            "Claude Sonnet 4.5 - PAID (1x), excellent reasoning",
            "Claude Sonnet 4 - PAID (1x), strong performance",
            "Claude Haiku 4.5 - PAID (0.33x), fast and cheap",
            "Gemini 3 Flash - PAID (0.33x), Google's fast model",
            "Gemini 3 Pro - PAID (1x), Google's capable model",
            "Gemini 2.5 Pro - PAID (1x), Google's advanced model",
            "GPT-5 - PAID (1x), OpenAI's latest",
            "GPT-5.1 - PAID (1x), enhanced GPT-5",
            "GPT-5.2 - PAID (1x), newest GPT version",
            "GPT-5 Codex - PAID (1x), code-specialized",
            "GPT-5.1 Codex - PAID (1x), enhanced code model",
            "GPT-5.1 Codex Mini - PAID (0.33x), efficient code model",
            "GPT-5.1 Codex Max - PAID (1x), maximum capability code model",
            "Claude Opus 4.5 - PAID (3x), most capable Claude",
            "Claude Opus 4.1 - PAID (10x), very expensive but powerful",
            "Grok Code Fast 1 - PAID (0.25x), X.AI's fast code model"
          ],
          "markdownDescription": "Which Copilot model to use for generating code summaries.\n\n**FREE models** (good choices):\n- `gpt-4o` - Recommended for quality\n- `gpt-5-mini` - Recommended for speed\n- `raptor-mini` - Microsoft's efficient option\n\n**PAID models** require Copilot subscription and consume multiplier credits."
        },
        "luna-encyclopedia.maxTokens": {
          "type": "number",
          "default": 4096,
          "minimum": 1024,
          "maximum": 16000,
          "description": "Maximum tokens for summary generation (higher = more detailed but slower/costlier)"
        },
        "luna-encyclopedia.temperature": {
          "type": "number",
          "default": 0,
          "minimum": 0,
          "maximum": 1,
          "description": "Temperature for LLM generation (0 = deterministic, 1 = creative). Keep at 0 for consistent summaries."
        },
        "luna-encyclopedia.fileTypesToInclude": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "ts",
            "tsx",
            "js",
            "jsx",
            "py",
            "java",
            "cs",
            "go",
            "rs",
            "cpp",
            "c",
            "h",
            "hpp"
          ],
          "markdownDescription": "File extensions to analyze (without the dot). Leave empty to analyze all files matching patterns.",
          "examples": [
            ["ts", "tsx", "js", "jsx"],
            ["py"],
            ["java", "scala", "kotlin"]
          ]
        },
        "luna-encyclopedia.fileTypesToExclude": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "d.ts",
            "test.ts",
            "spec.ts",
            "test.js",
            "spec.js",
            "min.js",
            "min.css"
          ],
          "markdownDescription": "File patterns to exclude (e.g., 'test.ts' or 'min.js'). Useful for excluding test files and minified code.",
          "examples": [
            ["d.ts", "test.ts", "spec.ts"],
            ["test.py", "mock.py"]
          ]
        },
        "luna-encyclopedia.concurrentWorkers": {
          "type": "number",
          "default": 5,
          "minimum": 1,
          "maximum": 20,
          "description": "Number of parallel workers for analyzing files (1-20). Higher = faster but uses more API calls concurrently.",
          "markdownDescription": "Number of parallel workers for analyzing files.\n\n- **1-3**: Conservative (slower, careful with API limits)\n- **5**: Default (balanced, recommended)\n- **10+**: Aggressive (faster, requires good connection)\n\nDefault: **5**"
        },
        "luna-encyclopedia.branchAwareSummaries": {
          "type": "boolean",
          "default": false,
          "description": "Create separate summaries for each git branch (disabled by default)",
          "markdownDescription": "**Branch-Aware Summaries** (Advanced)\n\nWhen enabled:\n- Each git branch gets its own summaries (e.g., `file.feature-xyz.json`)\n- Queries return summaries matching current branch\n- Falls back to main branch if branch-specific summary missing\n\n**Use cases**:\n- Feature branches with significant code changes\n- Multiple developers working on different branches\n- Need accurate summaries per branch\n\n**Default: Disabled** (single set of summaries for all branches)"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "test": "node ./out/test/runTest.js"
  },
  "devDependencies": {
    "@types/node": "^20.x",
    "@types/vscode": "^1.85.0",
    "@typescript-eslint/eslint-plugin": "^6.13.0",
    "@typescript-eslint/parser": "^6.13.0",
    "eslint": "^8.54.0",
    "typescript": "^5.3.2"
  },
  "dependencies": {
    "marked": "^11.0.0",
    "minimatch": "^9.0.5"
  }
}
